<!-- Market News Component -->
<div class="news-list">
    {% if data and data.news %}
        {% for news_item in data.news %}
        <article class="news-item" data-news-id="{{ news_item.id }}">
            <div class="news-header">
                <div class="news-meta">
                    <span class="news-category {{ 'category-' + news_item.category|replace(' ', '-')|lower }}">
                        {{ news_item.category }}
                    </span>
                    <span class="news-source">{{ news_item.source }}</span>
                    <span class="news-time">{{ news_item.published_at|format_datetime }}</span>
                </div>
                <div class="news-impact impact-{{ news_item.impact }}">
                    {% if news_item.impact == 'positive' %}
                        <i class="fas fa-arrow-up"></i>
                    {% elif news_item.impact == 'negative' %}
                        <i class="fas fa-arrow-down"></i>
                    {% else %}
                        <i class="fas fa-minus"></i>
                    {% endif %}
                </div>
            </div>
            
            <h3 class="news-title">
                <a href="#" onclick="showNewsDetail({{ news_item.id }})">
                    {{ news_item.title }}
                </a>
            </h3>
            
            <p class="news-summary">{{ news_item.summary }}</p>
            
            <div class="news-tags">
                {% for tag in news_item.tags %}
                <span class="tag">{{ tag }}</span>
                {% endfor %}
            </div>
            
            <div class="news-actions">
                <button class="btn btn-sm btn-outline-primary" onclick="showNewsDetail({{ news_item.id }})">
                    <i class="fas fa-eye"></i> 查看详情
                </button>
                <button class="btn btn-sm btn-outline-secondary" onclick="shareNews({{ news_item.id }})">
                    <i class="fas fa-share"></i> 分享
                </button>
            </div>
        </article>
        {% endfor %}
        
        <div class="news-footer">
            <p class="text-muted">
                <i class="fas fa-clock"></i> 
                最后更新: {{ data.updated_at|format_datetime }}
            </p>
        </div>
    {% else %}
        <div class="news-empty">
            <div class="text-center">
                <i class="fas fa-newspaper fa-3x text-muted mb-3"></i>
                <h4>暂无新闻</h4>
                <p class="text-muted">当前没有可显示的市场新闻</p>
                <button class="btn btn-primary" onclick="refreshNews()">
                    <i class="fas fa-refresh"></i> 重新加载
                </button>
            </div>
        </div>
    {% endif %}
</div>

<style>
.news-list {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.news-item {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 1.5rem;
    transition: all 0.2s ease;
}

.news-item:hover {
    border-color: #3b82f6;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
}

.news-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
}

.news-meta {
    display: flex;
    gap: 0.75rem;
    align-items: center;
    flex-wrap: wrap;
}

.news-category {
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.category-市场动态 { background: #dbeafe; color: #1e40af; }
.category-货币政策 { background: #dcfce7; color: #166534; }
.category-国际市场 { background: #fef3c7; color: #92400e; }
.category-科技股 { background: #e0e7ff; color: #3730a3; }
.category-房地产 { background: #fce7f3; color: #be185d; }

.news-source {
    font-size: 0.875rem;
    color: #6b7280;
}

.news-time {
    font-size: 0.75rem;
    color: #9ca3af;
}

.news-impact {
    padding: 0.25rem;
    border-radius: 4px;
    font-size: 0.875rem;
}

.impact-positive { color: #059669; background: #d1fae5; }
.impact-negative { color: #dc2626; background: #fee2e2; }
.impact-neutral { color: #6b7280; background: #f3f4f6; }

.news-title {
    margin: 0 0 0.75rem 0;
    font-size: 1.125rem;
    font-weight: 600;
    line-height: 1.4;
}

.news-title a {
    color: #111827;
    text-decoration: none;
    transition: color 0.2s ease;
}

.news-title a:hover {
    color: #3b82f6;
}

.news-summary {
    color: #4b5563;
    line-height: 1.6;
    margin-bottom: 1rem;
}

.news-tags {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.tag {
    padding: 0.25rem 0.5rem;
    background: #f3f4f6;
    color: #374151;
    border-radius: 4px;
    font-size: 0.75rem;
}

.news-actions {
    display: flex;
    gap: 0.5rem;
}

.news-footer {
    text-align: center;
    padding: 1rem;
    border-top: 1px solid #e5e7eb;
    margin-top: 1rem;
}

.news-empty {
    text-align: center;
    padding: 3rem 1rem;
    color: #6b7280;
}
</style>

<script>
function showNewsDetail(newsId) {
    // Show news detail modal or navigate to detail page
    console.log('Showing news detail for ID:', newsId);
    // Implementation depends on your preferred UX pattern
}

function shareNews(newsId) {
    // Share news functionality
    console.log('Sharing news ID:', newsId);
    // Implementation for sharing
}
</script>