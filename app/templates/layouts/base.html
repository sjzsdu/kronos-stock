<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Kronos 智能投资平台{% endblock %}</title>
    
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10/dist/ext/json-enc.js"></script>
    
    <!-- Charts -->
    <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">
    <!-- Alternative CDN as fallback -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.1/css/all.css" crossorigin="anonymous" media="none" onload="if(media!='all')media='all'" onerror="this.onerror=null;this.media='all';">
    <!-- Tailwind build output -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tw.css') }}">
    
    {% block head %}{% endblock %}
</head>
<body class="min-h-screen bg-slate-50 text-slate-800 antialiased">
    <div class="flex flex-col min-h-screen">
        <!-- Header -->
        <header class="z-40 w-full border-b border-slate-200 bg-white/95 backdrop-blur shadow-sm">
            <div class="max-w-7xl mx-auto px-4 md:px-6 h-16 flex items-center justify-between gap-6">
                <div class="flex items-center gap-4 flex-1 min-w-0">
                    <button class="mobile-menu-toggle p-2 rounded-md text-slate-600 hover:bg-slate-100 md:hidden" onclick="layoutManager.toggleMobileMenu()">
                        <i class="fas fa-bars"></i>
                    </button>
                    <a href="{{ url_for('views.index') }}" class="flex items-center gap-2 font-semibold text-slate-800">
                        <span class="grid h-9 w-9 place-items-center rounded-md bg-primary text-white text-lg font-bold shadow-prediction-sm">K</span>
                        <span class="text-lg tracking-tight">Kronos</span>
                    </a>
                    <nav class="flex items-center gap-1 ml-4">
                        <a href="{{ url_for('views.prediction') }}" 
                           class="px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 
                                  transition-all duration-200 ease-in-out
                                hover:bg-indigo-100 hover:shadow-sm ">
                            <i class="fas fa-chart-line"></i>
                            <span>股票预测</span>
                        </a>
                    </nav>
                </div>
                <div class="flex items-center gap-5">
                    <a href="https://github.com/sjzsdu/kronos-stock" target="_blank" rel="noopener noreferrer" class="p-2 rounded-md text-slate-600 hover:text-slate-800 hover:bg-slate-100 transition" title="查看项目源码">
                        <i class="fab fa-github text-lg"></i>
                    </a>
                </div>
            </div>
        </header>
        <main class="flex-1" id="mainContent">
            {% block body %}{% endblock %}
        </main>
    </div>

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/htmx-config.js') }}"></script>
    <script src="{{ url_for('static', filename='js/layout.js') }}"></script>
    <script src="{{ url_for('static', filename='js/prediction-detail.js') }}"></script>

    {% block scripts %}{% endblock %}
</body>
</html>
